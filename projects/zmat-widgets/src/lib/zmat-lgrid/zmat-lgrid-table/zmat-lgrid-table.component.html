<lib-zmat-lgrid-search *ngIf="this.schema.enableSeach !== false" (searchChanged)="searchChanged($event)"></lib-zmat-lgrid-search>
<mat-progress-bar mode="indeterminate" [class.show]="loading" [class.hide]="!loading"></mat-progress-bar>
<table>
    <tr>
        <th mat-header-cell *ngIf="schema.selectionMode === 'multi'">
          <mat-checkbox (change)="$event ? masterToggle() : null"
                      [checked]="isAllSelected()"
                      [indeterminate]="isSomeSelected()"
                      [aria-label]="checkboxLabel()">
          </mat-checkbox>
        </th>
        <th mat-header-cell *ngFor="let item of schema.columns">
            <button *ngIf="item.ordenable" mat-button (click)="orderBy(item)">
                {{ item.title }}
                <mat-icon *ngIf="pagination && item.field === pagination.sortColumn && pagination.sortDirection === 'desc'">arrow_upward</mat-icon>
                <mat-icon *ngIf="pagination && item.field === pagination.sortColumn && pagination.sortDirection === 'asc'">arrow_downward</mat-icon>
            </button>
            <span *ngIf="!item.ordenable">{{ item.title }}</span>
        </th>
        <th mat-header-cell *ngIf="enableActions && schema.actions.length > 0">Ações</th>
    </tr>
    <tr *ngFor="let obj of data">
        <td mat-cell *ngIf="schema.selectionMode === 'multi'">
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? toggle(obj) : null"
                        [checked]="isSelected(obj)"
                        [aria-label]="checkboxLabel(obj)">
          </mat-checkbox>
        </td>
        <td mat-cell *ngFor="let item of schema.columns" (click)="toggle(obj)">
            <ng-container *dynamicOutlet="item.render; model: item; data: obj"></ng-container>
        </td>
        <td mat-cell *ngIf="enableActions && schema.actions.length > 0" style="padding: 0px;">
            <div class="actions">
                <div *ngFor="let item of schema.actions">
                    <ng-container *dynamicOutlet="item.render; model: item; data: obj"></ng-container>
                </div>
            </div>
        </td>
    </tr>
</table>
<lib-zmat-lgrid-pagination
  [schema]="schema"
  [$pagination]="$pagination"
  [$selection]="$selection"
  (selectionCleaned)="cleanSelection()"
  [$total]="$total"
  (pageChanged)="pageChanged($event)">
</lib-zmat-lgrid-pagination>
